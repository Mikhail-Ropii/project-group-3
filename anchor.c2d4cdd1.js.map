{"version":3,"sources":["js/anchor.js"],"names":["isDomElement","obj","Element","isMouseEvent","MouseEvent","findScrollingElement","element","clientHeight","scrollHeight","clientWidth","scrollWidth","parentNode","d","document","scrollTopValue","domElement","scrollTop","offsetTopValue","offsetTop","requestAnimFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","scrollTo","to","duration","start","documentElement","body","change","currentTime","console","log","animateScroll","val","amount","Math","easeInOutQuad","init","anchor1Link","getElementById","anchor2Link","anchor3Link","anchor4Link","anchor5Link","anchor6Link","anchor7Link","anchor8Link","anchor9Link","anchor10Link","anchor1","anchor2","anchor3","anchor4","anchor5","anchor6","anchor7","anchor8","anchor9","anchor10","addEventListener","e","t","b","c","easeInCubic","inOutQuintic","ts","tc"],"mappings":"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","file":"anchor.c2d4cdd1.js","sourceRoot":"../src","sourcesContent":["(function() {\n\tlet d = document;\n\n\tfunction init() {\n\t\t//Links \n\t\tlet anchor1Link  = d.getElementById('about-link');\n\t\tlet anchor2Link  = d.getElementById('how-link');\n\t\tlet anchor3Link  = d.getElementById('our-link');\n\t\tlet anchor4Link = d.getElementById('contact-link');\n\t\tlet anchor5Link  = d.getElementById('about-link2');\n\t\tlet anchor6Link  = d.getElementById('how-link2');\n\t\tlet anchor7Link  = d.getElementById('our-link2');\n\t\tlet anchor8Link = d.getElementById('contact-link2');\n\t\tlet anchor9Link = d.getElementById('our-link3');\n\t\tlet anchor10Link  = d.getElementById('how-link3');\n\n\t\n\t\t//Anchors\n\t\tlet anchor1      = d.getElementById('about');\n\t\tlet anchor2      = d.getElementById('how');\n\t\tlet anchor3      = d.getElementById('our');\n\t\tlet anchor4      = d.getElementById('contact');\n\t\tlet anchor5      = d.getElementById('about');\n\t\tlet anchor6      = d.getElementById('how');\n\t\tlet anchor7      = d.getElementById('our');\n\t\tlet anchor8 = d.getElementById('contact');\n\t\tlet anchor9 = d.getElementById('our');\n\t\tlet anchor10 = d.getElementById('how');\n\t\n\n\t\t\n\t\tanchor1Link.addEventListener('click', (e) => { scrollTo(anchor1, e) }, false);\n\t\tanchor2Link.addEventListener('click', (e) => { scrollTo(anchor2, e) }, false);\n\t\t\n\t\t// anchor2Link.onclick = function() { scrollToSimple(document.documentElement, 500, 3000); }\n\t\t// anchor2Link2.onclick = function() { scrollToSimple(document.documentElement, 0, 3000); }\n\t\tanchor3Link.addEventListener('click', (e) => { scrollTo(anchor3, e) }, false);\n\t\t\n\t\tanchor4Link.addEventListener('click', (e) => { scrollTo(anchor4, e) }, false);\n\t\tanchor5Link.addEventListener('click', (e) => { scrollTo(anchor5, e) }, false);\n\t\tanchor6Link.addEventListener('click', (e) => { scrollTo(anchor6, e) }, false);\n\t\t\n\t\t// anchor2Link.onclick = function() { scrollToSimple(document.documentElement, 500, 3000); }\n\t\t// anchor2Link2.onclick = function() { scrollToSimple(document.documentElement, 0, 3000); }\n\t\tanchor7Link.addEventListener('click', (e) => { scrollTo(anchor7, e) }, false);\n\t\t\n\t\tanchor8Link.addEventListener('click', (e) => { scrollTo(anchor8, e) }, false);\n\t\tanchor9Link.addEventListener('click', (e) => { scrollTo(anchor9, e) }, false);\n\t\tanchor10Link.addEventListener('click', (e) => { scrollTo(anchor10.offsetTop, e) }, false);\n\t\t\n\t\tconsole.log(anchor2); //DEBUG\n\t\tconsole.log('anchor1: '+scrollTopValue(anchor1)+' / '+offsetTopValue(anchor1)); //DEBUG\n\t\tconsole.log('anchor2: '+scrollTopValue(anchor2)+' / '+offsetTopValue(anchor2)); //DEBUG\n\t\tconsole.log('anchor3: '+scrollTopValue(anchor3)+' / '+offsetTopValue(anchor3)); //DEBUG\n\t\tconsole.log('anchor4: '+scrollTopValue(anchor4)+' / '+offsetTopValue(anchor4)); //DEBUG\n\t\tconsole.log('anchor5: '+scrollTopValue(anchor5)+' / '+offsetTopValue(anchor5)); //DEBUG\n\t\tconsole.log('anchor6: '+scrollTopValue(anchor6)+' / '+offsetTopValue(anchor6)); //DEBUG\n\t\tconsole.log('anchor7: '+scrollTopValue(anchor7)+' / '+offsetTopValue(anchor7)); //DEBUG\n\t\tconsole.log('anchor8: '+scrollTopValue(anchor8)+' / '+offsetTopValue(anchor8)); //DEBUG\n\t\tconsole.log('anchor9: '+scrollTopValue(anchor9)+' / '+offsetTopValue(anchor9)); //DEBUG\n\t\tconsole.log('anchor10: '+scrollTopValue(anchor10)+' / '+offsetTopValue(anchor10)); //DEBUG\n\n\t\t// d.addEventListener('scroll', (e) => { console.log(e) }, false); //DEBUG\n\t\t\n\t\tconsole.log('App loaded. Have fun!');\n\t}\n\t\n\tfunction scrollTopValue(domElement) { //DEBUG\n\t\treturn 'scrollTopValue:', domElement.scrollTop;\n\t}\n\tfunction offsetTopValue(domElement) { //DEBUG\n\t\treturn 'offsetTopValue:', domElement.offsetTop;\n\t}\n\n\t/*function scrollToSimple(element, to, duration) { //FIXME finish this\n\t\tif (duration < 0) return;\n\t\tvar difference = to - element.offsetTop;\n\t\tvar perTick = difference / duration * 10;\n\t\tconsole.log('perTick', perTick); //DEBUG\n\n\t\tsetTimeout(function() {\n\t\t\tconsole.log('element.scrollTop:', element.scrollTop); //DEBUG\n\t\t\telement.scrollTop += perTick;\n\t\t\tconsole.log('element.scrollTop:', element.scrollTop); //DEBUG\n\t\t\tscrollTo(element, to, duration - 10);\n\t\t}, 10);\n\t}*/\n\n\t//cf. https://gist.github.com/james2doyle/5694700\n\t// requestAnimationFrame for Smart Animating https://goo.gl/sx5sts\n\tvar requestAnimFrame = (function() {\n\t\treturn window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) {\n\t\t\twindow.setTimeout(callback, 1000 / 60);\n\t\t};\n\t})();\n\n\tfunction scrollTo(to, callback, duration = 1500) { //FIXME this always starts from '0', instead of the clicked element offsetTop -> This is because the position is calculated for the main <html> element, not the <iframe>'s <html> tag\n\t\t/*console.log('from:', from); //DEBUG\n\t\t// console.log('from.clientY:', from.clientY); //DEBUG\n\t\t// console.log('from.target.offsetTop:', from.target.offsetTop); //DEBUG\n\t\t\n\t\t// console.log('position():', document.documentElement.offsetTop || document.body.parentNode.offsetTop || document.body.offsetTop); //DEBUG\n\t\t// console.log('document.documentElement:', document.documentElement); //DEBUG\n\t\t// console.log('document.body:', document.body); //DEBUG\n\t\tlet start;\n\t\t\n\t\tif (isMouseEvent(from)) { //FIXME : the scroll starts at the link, not where the screen really is : fix that\n\t\t\t// start = from.target.offsetTop;\n\t\t\tstart = from.pageY; //FIXME\n\t\t}\n\t\telse {\n\t\t\tstart = from;\n\t\t}*/\n\t\t\n\t\tif (isDomElement(to)) {\n\t\t\t// console.log('this is an element:', to); //DEBUG\n\t\t\tto = to.offsetTop;\n\t\t}\n\t\t/*else {\n\t\t\t// console.log('this is NOT an element:', to); //DEBUG\n\t\t}*/\n\t\t\n\t\t// because it's so fucking difficult to detect the scrolling element, just move them all\n\t\tfunction move(amount) {\n\t\t\t// document.scrollingElement.scrollTop = amount; //FIXME Test that\n\t\t\tdocument.documentElement.scrollTop = amount;\n\t\t\tdocument.body.parentNode.scrollTop = amount;\n\t\t\tdocument.body.scrollTop = amount;\n\t\t}\n\n\t\tfunction position() {\n\t\t\treturn document.documentElement.offsetTop || document.body.parentNode.offsetTop || document.body.offsetTop;\n\t\t}\n\t\t\n\t\tvar start = position(),\n\t\t\tchange = to - start,\n\t\t\tcurrentTime = 0,\n\t\t\tincrement = 20;\n\t\tconsole.log('start:', start); //DEBUG\n\t\tconsole.log('to:', to); //DEBUG\n\t\tconsole.log('change:', change); //DEBUG\n\t\t\n\t\tvar animateScroll = function() {\n\t\t\t// increment the time\n\t\t\tcurrentTime += increment;\n\t\t\t// find the value with the quadratic in-out easing function\n\t\t\tvar val = Math.easeInOutQuad(currentTime, start, change, duration);\n\t\t\t// move the document.body\n\t\t\tmove(val);\n\t\t\t// do the animation unless its over\n\t\t\tif (currentTime < duration) {\n\t\t\t\trequestAnimFrame(animateScroll);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (callback && typeof(callback) === 'function') {\n\t\t\t\t\t// the animation is done so lets callback\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\tanimateScroll();\n\t}\n\n\tinit();\n})();\n\n//-------------------- Unimportant js functions --------------------\n// easing functions https://goo.gl/5HLl8\n//t = current time\n//b = start value\n//c = change in value\n//d = duration\nMath.easeInOutQuad = function(t, b, c, d) {\n\tt /= d / 2;\n\tif (t < 1) {\n\t\treturn c / 2 * t * t + b\n\t}\n\tt--;\n\treturn -c / 2 * (t * (t - 2) - 1) + b;\n};\n\nMath.easeInCubic = function(t, b, c, d) {\n\tvar tc = (t /= d) * t * t;\n\treturn b + c * (tc);\n};\n\nMath.inOutQuintic = function(t, b, c, d) {\n\tvar ts = (t /= d) * t,\n\t\ttc = ts * t;\n\treturn b + c * (6 * tc * ts + -15 * ts * ts + 10 * tc);\n};\n\nfunction isDomElement(obj) {\n    return obj instanceof Element;\n}\n\nfunction isMouseEvent(obj) {\n    return obj instanceof MouseEvent;\n}\n\nfunction findScrollingElement(element) { //FIXME Test this too\n\tdo {\n\t\tif (element.clientHeight < element.scrollHeight || element.clientWidth < element.scrollWidth) {\n\t\t\treturn element;\n\t\t}\n\t} while (element = element.parentNode);\n}"]}